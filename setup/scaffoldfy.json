{
  "$schema": "https://unpkg.com/@pixpilot/scaffoldfy@latest/schema/tasks.schema.json",
  "extends": [
    "https://unpkg.com/@pixpilot/scaffoldfy-templates@latest/project-info/scaffoldfy.json",
    "https://unpkg.com/@pixpilot/scaffoldfy-templates@latest/pixpilot-workspace-package-generator/scaffoldfy.json",
    "https://unpkg.com/@pixpilot/scaffoldfy-templates@latest/license-file/scaffoldfy.json",
    "https://unpkg.com/@pixpilot/scaffoldfy-templates@latest/update-root-package-json/scaffoldfy.json",
    "https://unpkg.com/@pixpilot/scaffoldfy-templates@latest/security-policy/scaffoldfy.json",
    "https://unpkg.com/@pixpilot/scaffoldfy-templates@latest/pixpilot-copilot-instructions/scaffoldfy.json"
  ],
  "name": "pnpm-turbo-monorepo-template-setup",
  "tasks": [
    {
      "id": "clean-readme",
      "name": "Clean README",
      "description": "Create a fresh README for the new project",
      "type": "template",
      "config": {
        "file": "README.md",
        "templateFile": "./templates/clean-readme.md"
      }
    },
    {
      "id": "update-contributing",
      "name": "Update CONTRIBUTING.md",
      "description": "Update contributing guidelines with project info",
      "type": "replace-in-file",
      "config": {
        "file": "CONTRIBUTING.md",
        "replacements": [
          {
            "find": "pnpm-turbo-monorepo-template",
            "replace": "{{repoName}}"
          },
          {
            "find": "pixpilot/pnpm-turbo-monorepo-template",
            "replace": "{{repoOwner}}/{{repoName}}"
          }
        ]
      }
    },
    {
      "id": "remove-setup-script",
      "name": "Remove setup script",
      "description": "Remove the setup script from package.json after setup is complete",
      "type": "regex-replace",
      "config": {
        "file": "package.json",
        "pattern": "\\n\\s*\"setup\":\\s*\"npx @pixpilot/scaffoldfy --tasks-file \\./setup/setup-tasks\\.json\",",
        "flags": "",
        "replacement": ""
      }
    },
    {
      "id": "delete-setup-tasks",
      "name": "Delete setup tasks file",
      "description": "Remove the setup-tasks.json file after setup is complete",
      "type": "delete",
      "config": {
        "paths": ["setup"]
      }
    },
    {
      "id": "reinstall-dependencies",
      "name": "Reinstall dependencies",
      "description": "Reinstall dependencies after cleanup",
      "type": "exec",
      "config": {
        "command": "pnpm install"
      }
    }
  ]
}
